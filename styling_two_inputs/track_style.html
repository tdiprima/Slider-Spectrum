<title>Track Style</title>
<!-- Dual Range Slider (Webkit) -->
<!-- https://codepen.io/ChrisSargent/pen/meMMye -->
<!-- See also: https://css-tricks.com/multi-thumb-sliders-particular-two-thumb-case/ -->
<!-- "Not only does the top slider track show up above the thumb of the bottom one..." -->
<!-- https://css-tricks.com/multi-thumb-sliders-general-case/ -->
<!-- Let's say we stack left-toâ€“right linear-gradient() layers corresponding to each thumb... -->
<link href="track_style.css" rel="stylesheet">

<h1>Slider handles work in Chrome, Safari, but not FireFox</h1>
<span class="multi-range">
    <input id="lower" max="50" min="0" type="range" value="5">
    <input id="upper" max="50" min="0" type="range" value="45">
</span>

<script>
  const lowerSlider = document.querySelector('#lower')
  const upperSlider = document.querySelector('#upper')
  let lowerVal = parseInt(lowerSlider.value)
  let upperVal = parseInt(upperSlider.value)

  upperSlider.oninput = function () {
    lowerVal = parseInt(lowerSlider.value)
    upperVal = parseInt(upperSlider.value)

    if (upperVal < lowerVal + 4) {
      lowerSlider.value = upperVal - 4

      if (lowerVal === lowerSlider.min) {
        upperSlider.value = 4
      }
    }
  }

  lowerSlider.oninput = function () {
    lowerVal = parseInt(lowerSlider.value)
    upperVal = parseInt(upperSlider.value)

    if (lowerVal > upperVal - 4) {
      upperSlider.value = lowerVal + 4

      if (upperVal === upperSlider.max) {
        lowerSlider.value = parseInt(upperSlider.max) - 4
      }
    }
  }
</script>
