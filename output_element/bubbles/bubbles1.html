<!-- ORIGINAL -->
<!-- https://css-tricks.com/value-bubbles-for-range-inputs/ -->
<title>CodePen - Range Input Value Bubbles</title>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>-->
<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" rel="stylesheet">
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

<style>
  output {
    position: absolute;
    background-image: linear-gradient(#444444, #999999);
    width: 40px;
    height: 30px;
    text-align: center;
    color: white;
    border-radius: 10px;
    display: inline-block;
    font: bold 15px/30px Georgia;
    bottom: 175%;
    left: 0;
    margin-left: -1%;
  }

  output:after {
    content: "";
    position: absolute;
    width: 0;
    height: 0;
    border-top: 10px solid #999999;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    margin-top: -1px;
  }

  form {
    position: relative;
    margin: 50px;
  }

  body {
    padding: 20px;
  }
</style>

<form>
  <input max="100" min="0" name="foo" type="range">
  <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
</form>

<form>
  <input max="100" min="0" name="foo" style="width: 300px;" type="range">
  <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
</form>

<form>
  <input max="100" min="0" name="foo" type="range">
  <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
</form>

<script>
  let el, newPoint, newPlace, offset

  // Select all range inputs, watch for change
  $("input[type='range']").change(function () {
    // Cache this for efficiency
    el = $(this)

    // Measure width of range input
    width = el.width()

    // Figure out placement percentage between left and right of input
    newPoint = (el.val() - el.attr('min')) / (el.attr('max') - el.attr('min'))

    offset = -1

    // Prevent bubble from going beyond left or right (unsupported browsers)
    if (newPoint < 0) {
      newPlace = 0
    } else if (newPoint > 1) {
      newPlace = width
    } else {
      newPlace = width * newPoint + offset
      offset -= newPoint
    }

    // Move bubble
    el.next('output').css({
      left: newPlace,
      marginLeft: offset + '%'
    }).text(el.val())
  })
    // Fake a change to position bubble at page load
    .trigger('change')

</script>
