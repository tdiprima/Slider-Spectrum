<body>
<style>
    /* fix too small font-size in both Chrome & Firefox */
    * {
      font: inherit;
    }

  /* make the wrapper a middle-aligned grid with two rows and one column */
  .wrap {
    --dif: calc(var(--max) - var(--min)); /* calculate */
    display: grid;
    grid-template: repeat(2, -webkit-max-content) 1em/1fr 1fr;
    grid-template: repeat(2, max-content) 1em/1fr 1fr;
    overflow: hidden; /* in case <label> elements overflow */
    position: relative;
    margin: 1em auto;
    width: 20em;
    background: linear-gradient(0deg, #ccc 1em, transparent 0); /* emulate track with wrapper background */
    font-family: ubuntu mono, consolas, monaco, monospace; /* added a font-family */
  }

  .wrap::before, .wrap::after {
    grid-column: 1/span 2;
    grid-row: 3;
    height: 100%;
    background: #95a;
    content: "";
  }

  .wrap::before {
    margin-left: calc((var(--a) - var(--min))/var(--dif)*100%);
    width: calc((var(--b) - var(--a))/var(--dif)*100%);
  }

  .wrap::after {
    margin-left: calc((var(--b) - var(--min))/var(--dif)*100%);
    width: calc((var(--a) - var(--b))/var(--dif)*100%);
  }

  [id=multi-lbl] {
    grid-column: 1/span 2;
  }

  /* visually hide the <label> elements */
  .sr-only {
    position: absolute;
    -webkit-clip-path: inset(50%);
            clip-path: inset(50%);
  }

  /* place the sliders, one on top of the other, in the bottom grid cell */
  input[type=range] {
    grid-column: 1/span 2;
    grid-row: 3;
    z-index: 1;
    top: 0;
    left: 0;
    margin: 0;
    background: none;
    color: #000;
    /*font: inherit;*/ /* fix too small font-size in both Chrome & Firefox */
    pointer-events: none; /* let clicks pass through */
  }

  input[type=range]::-webkit-slider-runnable-track, input[type=range]::-webkit-slider-thumb, input[type=range] {
    -webkit-appearance: none;
  }

  input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 100%;
    background: none; /* get rid of white Chrome background */
  }

  input[type=range]::-moz-range-track {
    width: 100%;
    height: 100%;
    background: none; /* get rid of Firefox track background */
  }

  input[type=range]::-webkit-slider-thumb {
    border: none;
    /* get rid of Firefox thumb border */
    width: 1em;
    height: 1em;
    border-radius: 0;
    /* get rid of Firefox corner rounding */
    background: currentcolor;
    pointer-events: auto;
  }

  input[type=range]::-moz-range-thumb {
    border: none; /* get rid of Firefox thumb border */
    width: 1em;
    height: 1em;
    border-radius: 0; /* get rid of Firefox corner rounding */
    background: currentcolor;
    pointer-events: auto; /* catch clicks */
  }

  /* focus styles allows us to see which value weï¿½re currently modifying */
  input[type=range]:focus {
    z-index: 2;
  }

  input[type=range]:focus, input[type=range]:focus + output {
    color: darkorange;
  }

  output {
    grid-row: 2;
  }

  output:last-child {
    text-align: right;
  }

  /* display the values using a little counter trick */
  output::after {
    counter-reset: c var(--c);
    content: "--" attr(for) ": " counter(c) ";";
  }
</style>

<script src="e.js"></script>
<script src="js/update-custom-props.js"></script>
<script>
  let wrapper = e('div', {
    'class': 'wrap',
    'role': 'group',
    'aria-labelledby': 'multi-lbl',
    'style': '--a: -30; --b: 20; --min: -50; --max: 50'
  })
  let title = e('div', {'id': 'multi-lbl'})
  title.innerHTML = 'Multi thumb slider:'
  wrapper.appendChild(title)

  let ALabel = e('label', {'class': 'sr-only', 'for': 'a'})
  ALabel.innerHTML = 'Value A:'
  let BLabel = e('label', {'class': 'sr-only', 'for': 'b'})
  BLabel.innerHTML = 'Value B:'

  let ARange = e('input', {'id': 'a', 'type': 'range', 'min': -50, 'max': 50, 'value': -30})
  let BRange = e('input', {'id': 'b', 'type': 'range', 'min': -50, 'max': 50, 'value': 20})

  // To display the current values:
  let outputA = e('output', {'for':'a', 'style':'--c: var(--a)'})
  let outputB = e('output', {'for':'b', 'style':'--c: var(--b)'})

  wrapper.appendChild(ALabel)
  wrapper.appendChild(ARange)
  wrapper.appendChild(outputA)
  wrapper.appendChild(BLabel)
  wrapper.appendChild(BRange)
  wrapper.appendChild(outputB)

  document.body.appendChild(wrapper)

  // update the custom properties we've set on the wrapper
  addEventListener('input', e => {
    let _t = e.target;
    _t.parentNode.style.setProperty(`--${_t.id}`, +_t.value)
  }, false);
</script>
</body>
