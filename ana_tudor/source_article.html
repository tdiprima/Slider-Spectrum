<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Thumb Sliders: Particular Two-Thumb Case - CSS-Tricks</title>
  <!-- https://css-tricks.com/multi-thumb-sliders-particular-two-thumb-case/ -->
  <!-- (Saving it, God forbid it disappears off the internet.) -->
  <link rel="stylesheet" id="css-tricks-style-css" href="https://css-tricks.com/wp-content/themes/CSS-Tricks-19/style.css?ver=cache_bust=1638373655049" type="text/css" media="all">
</head>
<body>
<div class="article-content">
  <p>This is a concept I first came across a few years back when Lea Verou wrote an <a href="http://lea.verou.me/2016/05/introducing-multirange-a-tiny-polyfill-for-html5-two-handle-sliders/">article</a> on it. Multi-range sliders have sadly been removed from the spec since, but something else that has happened in the meanwhile is that CSS got better — and so have I, so I recently decided to make my own 2019 version.</p>
  <p>In this two-part article, we’ll go through the how, step-by-step, first building an example with two thumbs, then identify the issues with it. We’ll solve those issues, first for the two-thumb case then, in part two, come up with a better solution for the multi-thumb case.</p>
  <p><span id="more-295854"></span></p>
  <figure style="border:1px solid #ccc;"><div class="fluid-width-video-wrapper" style="padding-top: 50%;"><video src="https://css-tricks.com/wp-content/uploads/2020/01/desired_results.mp4" controls="" name="fitvid0"><figcaption>The sliders we’ll be coding.</figcaption></video></div></figure>
  <p>Note how the thumbs can pass each other and we can have any possible order, with the fills in between the thumbs adapting accordingly. Surprisingly, the entire thing is going to require extremely little JavaScript.</p>
  <div class="article-series">
    <h4><a href="#article-series" aria-hidden="true" class="aal_anchor" id="article-series"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Article Series:</h4>
    <ol>
      <li>
        Multi-Thumb Sliders: Particular Two-Thumb Case <em>(This Post)</em>
      </li>
      <li>
        <a href="https://css-tricks.com/multi-thumb-sliders-general-case/">Multi-Thumb Sliders: General Case</a>
      </li>
    </ol>
  </div>
  <h3 id="basic-structure"><a href="#basic-structure" aria-hidden="true" class="aal_anchor" id="basic-structure"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic structure</h3>
  <p>We need two range inputs inside a wrapper. They both have the same minimum and maximum value (this is very important because nothing is going to work properly otherwise), which we set as custom properties on the wrapper (<code>--min</code> and <code>--max</code>). We also set their values as custom properties (<code>--a</code> and <code>--b</code>).</p>
  <pre rel="Pug" class=" language-pug"><code class=" language-pug">- let min = -50, max = 50
- let a = -30, b = 20;

.wrap(style=`--a: ${a}; --b: ${b}; --min: ${min}; --max: ${max}`)
  input#a(type='range' min=min value=a max=max)
  input#b(type='range' min=min value=b max=max)</code></pre>
  <p>This generates the following markup:</p>
  <pre rel="HTML" class=" language-markup"><code class=" language-html language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>wrap<span class="token punctuation">'</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">-30</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token variable">--min</span><span class="token punctuation">:</span> <span class="token number">-50</span><span class="token punctuation">;</span> <span class="token variable">--max</span><span class="token punctuation">:</span> <span class="token number">50</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-30<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>20<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
  <h3 id="accessibility"><a href="#accessibility-considerations" aria-hidden="true" class="aal_anchor" id="accessibility-considerations"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accessibility considerations</h3>
  <p>We have two range inputs and they should probably each have a <code>&lt;label&gt;</code>, but we want our multi-thumb slider to have a single label. How do we solve this issue? We can make the wrapper a <code>&lt;fieldset&gt;</code>, use its <code>&lt;legend&gt;</code> to describe the entire multi-thumb slider, and have a <code>&lt;label&gt;</code> that’s only visible to screen readers for each of our range inputs. (Thanks to <a href="https://twitter.com/zoltandulac">Zoltan</a> for this great suggestion.)</p>
  <p>But what if we want to have a <code>flex</code> or <code>grid</code> layout on our wrapper? That’s something we probably want, as the only other option is absolute positioning and that comes with its own set of issues. Then we run into a Chromium <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=375693">issue</a> where <code>&lt;fieldset&gt;</code> cannot be a <code>flex</code> or <code>grid</code> container.</p>
  <p>To go around this, we use the following ARIA equivalent (which I picked up from <a href="https://codepen.io/stevef/post/fielsdet-and-legend-semantics">this post</a> by Steve Faulkner):</p>
  <pre rel="Pug" class=" language-pug"><code class=" language-pug">- let min = -50, max = 50
- let a = -30, b = 20;

.wrap(role='group' aria-labelledby='multi-lbl' style=`--a: ${a}; --b: ${b}; --min: ${min}; --max: ${max}`)
  #multi-lbl Multi thumb slider:
  label.sr-only(for='a') Value A:
  input#a(type='range' min=min value=a max=max)
  label.sr-only(for='b') Value B:
  input#b(type='range' min=min value=b max=max)</code></pre>
  <p>The generated markup is now:</p>
  <pre rel="HTML" class=" language-markup"><code class=" language-html language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>wrap<span class="token punctuation">'</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>group<span class="token punctuation">'</span></span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>multi-lbl<span class="token punctuation">'</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">-30</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token variable">--min</span><span class="token punctuation">:</span> <span class="token number">-50</span><span class="token punctuation">;</span> <span class="token variable">--max</span><span class="token punctuation">:</span> <span class="token number">50</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>multi-lbl<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Multi thumb slider:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>sr-only<span class="token punctuation">'</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Value A:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-30<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>sr-only<span class="token punctuation">'</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Value B:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>20<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
  <p class="explanation">If we set an <code>aria-label</code> or an <code>aria-labelledby</code> attribute on an element, we also <a href="https://marcozehe.de/2019/12/12/if-you-aria-label-something-give-it-a-role/">need to</a> give it a <code>role</code>.</p>
  <h3 id="basic-styling"><a href="#basic-styling" aria-hidden="true" class="aal_anchor" id="basic-styling"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic styling</h3>
  <p>We make the wrapper a middle-aligned <code>grid</code> with two rows and one column. The bottom grid cell gets the dimensions we want for the slider, while the top one gets the same width as the slider, but can adjust its height according to the group label’s content.</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token property"><span class="token variable">$w</span></span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">em</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span><span class="token punctuation">;</span>

<span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> max-content <span class="token variable">$h</span><span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span> auto<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token variable">$w</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  <p>To visually hide the <code>&lt;label&gt;</code> elements, we absolutely <code>position</code> them and clip them to nothing:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">// same as before</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token comment">// in case &lt;label&gt; elements overflow</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.sr-only </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  <p>Some people might shriek about <code>clip-path</code> support, like how using it cuts out pre-Chromium Edge and Internet Explorer, but it doesn’t matter in this particular case! We’re getting to the why behind that in a short bit.</p>
  <p>We place the sliders, one on top of the other, in the bottom grid cell:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">input[type='range'] </span><span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 150px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="150" width="100%" name="cp_embed_1" scrolling="no" src="https://codepen.io/thebabydino/embed/dybajpx?height=150&amp;theme-id=1&amp;slug-hash=dybajpx&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20structure%20%26%20layout&amp;name=cp_embed_1" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - structure &amp; layout" loading="lazy" id="cp_embed_dybajpx"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>We can already notice a problem however: not only does the top slider track show up above the thumb of the bottom one, but the top slider makes it impossible for us to even click and interact with the bottom one using a mouse or touch.</p>
  <p>In order to fix this, we remove any track backgrounds and borders and highlight the track area by setting a <code>background</code> on the wrapper instead. We also set <code>pointer-events: none</code> on the actual <code>&lt;input&gt;</code> elements and then revert to <code>auto</code> on their thumbs.</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token keyword">@mixin</span> <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* get rid of Firefox track background */</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">@mixin</span> <span class="token function">thumb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> currentcolor<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* get rid of Firefox thumb border */</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">/* get rid of Firefox corner rounding */</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* catch clicks */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token variable">$h</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token variable">$h</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">/* same as before */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token comment">/* emulate track with wrapper background */</span>
    <span class="token function">linear-gradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token unit">deg</span><span class="token punctuation">,</span> <span class="token hexcode">#ccc</span> <span class="token variable">$h</span><span class="token punctuation">,</span> transparent <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">input[type='range'] </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>::-webkit-slider-runnable-track,
  <span class="token parent important">&amp;</span>::-webkit-slider-thumb, <span class="token parent important">&amp;</span> </span><span class="token punctuation">{</span> <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token comment">/* same as before */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* get rid of white Chrome background */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span>
  <span class="token property">font</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span> <span class="token comment">/* fix too small font-size in both Chrome &amp; Firefox */</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* let clicks pass through */</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::-webkit-slider-runnable-track </span><span class="token punctuation">{</span> <span class="token keyword">@include</span> track<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token selector"><span class="token parent important">&amp;</span>::-moz-range-track </span><span class="token punctuation">{</span> <span class="token keyword">@include</span> track<span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::-webkit-slider-thumb </span><span class="token punctuation">{</span> <span class="token keyword">@include</span> thumb<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token selector"><span class="token parent important">&amp;</span>::-moz-range-thumb </span><span class="token punctuation">{</span> <span class="token keyword">@include</span> thumb<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <p>Note that we’ve set a few more styles on the <code>input</code> itself as well as on the track and thumb in order to make the look consistent across the browsers that support letting clicks pass through the actual <code>input</code> elements and their tracks, while allowing them on the thumbs. This excludes pre-Chromium Edge and <abbr title="Internet Explorer">IE</abbr>, which is why we haven’t included the <code>-ms-</code> prefix — there’s no point styling something that wouldn’t be functional in these browsers anyway. This is also why we can use <code>clip-path</code> to hide the <code>&lt;label&gt;</code> elements.</p>
  <p>If you’d like to know more about default browser styles in order to understand what’s necessary to override here, you can check out <a href="https://css-tricks.com/sliding-nightmare-understanding-range-input/">this article</a> where I take an in-depth look at range inputs (and where I also detail the reasoning behind using mixins here).</p>
  <div class="cp_embed_wrapper resizable" style="height: 150px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="150" width="100%" name="cp_embed_2" scrolling="no" src="https://codepen.io/thebabydino/embed/gOYqdEd?height=150&amp;theme-id=1&amp;slug-hash=gOYqdEd&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20basic%20look&amp;name=cp_embed_2" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - basic look" loading="lazy" id="cp_embed_gOYqdEd"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>Alright, we now have something that looks functional. But in order to really make it functional, we need to move on to the JavaScript!</p>
  <h3 id="functionality"><a href="#functionality" aria-hidden="true" class="aal_anchor" id="functionality"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Functionality</h3>
  <p>The JavaScript is pretty straightforward. We need to update the custom properties we’ve set on the wrapper. (For an actual use case, they’d be set higher up in the DOM so that they’re also inherited by the elements whose styles that depend on them.)</p>
  <pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> _t <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
  _t<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_t<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> <span class="token operator">+</span>_t<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 150px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="150" width="100%" name="cp_embed_3" scrolling="no" src="https://codepen.io/thebabydino/embed/ExxOVqR?height=150&amp;theme-id=1&amp;slug-hash=ExxOVqR&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20functionality&amp;name=cp_embed_3" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - functionality" loading="lazy" id="cp_embed_ExxOVqR"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>However, unless we bring up DevTools to see that the values of those two custom properties really change in the <code>style</code> attribute of the wrapper <code>.wrap</code>, it’s not really obvious that this does anything. So let’s do something about that!</p>
  <h3 id="show-values"><a href="#showing-values" aria-hidden="true" class="aal_anchor" id="showing-values"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Showing values</h3>
  <p>Something we can do to make it obvious that dragging the thumbs actually changes something is to display the current values. In order to do this, we use an <code>output</code> element for each <code>input</code>:</p>
  <pre rel="Pug" class=" language-pug"><code class=" language-pug">- let min = -50, max = 50
- let a = -30, b = 20;

.wrap(role='group' aria-labelledby='multi-lbl' style=`--a: ${a}; --b: ${b}; --min: ${min}; --max: ${max}`)
  #multi-lbl Multi thumb slider:
  label.sr-only(for='a') Value A:
  input#a(type='range' min=min value=a max=max)
  output(for='a' style='--c: var(--a)')
  label.sr-only(for='b') Value B:
  input#b(type='range' min=min value=b max=max)
  output(for='b' style='--c: var(--b)')</code></pre>
  <p>The resulting HTML looks as follows:</p>
  <pre rel="HTML" class=" language-markup"><code class=" language-html language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>wrap<span class="token punctuation">'</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>group<span class="token punctuation">'</span></span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>multi-lbl<span class="token punctuation">'</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">-30</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token variable">--min</span><span class="token punctuation">:</span> <span class="token number">-50</span><span class="token punctuation">;</span> <span class="token variable">--max</span><span class="token punctuation">:</span> <span class="token number">50</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>multi-lbl<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Multi thumb slider:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>sr-only<span class="token punctuation">'</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Value A:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-30<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>a<span class="token punctuation">'</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--c</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--a</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>output</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>sr-only<span class="token punctuation">'</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Value B:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>range<span class="token punctuation">'</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>-50<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>20<span class="token punctuation">'</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>50<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>b<span class="token punctuation">'</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--c</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--b</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>output</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
  <p>We display the values in an <code>::after</code> pseudo-element using a little <code>counter</code> trick:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">output </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">counter-reset</span><span class="token punctuation">:</span> c <span class="token function">var</span><span class="token punctuation">(</span>--c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">counter</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 190px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="190" width="100%" name="cp_embed_4" scrolling="no" src="https://codepen.io/thebabydino/embed/BaaGjzL?height=190&amp;theme-id=1&amp;slug-hash=BaaGjzL&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20display%20output&amp;name=cp_embed_4" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - display output" loading="lazy" id="cp_embed_BaaGjzL"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>It’s now obvious these values change as we drag the sliders, but the result is ugly and it has messed up the wrapper <code>background</code> alignment, so let’s add a few tweaks! We could absolutely position the <code>&lt;output&gt;</code> elements, but for now, we simply squeeze them in a row between the group label and the sliders:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">// same as before</span>
  <span class="token property">grid-template</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> max-content<span class="token punctuation">)</span> <span class="token variable">#{$h}</span>/ <span class="token number">1</span><span class="token unit">fr</span> <span class="token number">1</span><span class="token unit">fr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[id='multi-lbl'] </span><span class="token punctuation">{</span> <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span>/ span <span class="token number">2</span> <span class="token punctuation">}</span>

<span class="token selector">input[type='range'] </span><span class="token punctuation">{</span>
  <span class="token comment">// same as before</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span>/ span <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">output </span><span class="token punctuation">{</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>:last-child </span><span class="token punctuation">{</span> <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'--'</span> <span class="token function">attr</span><span class="token punctuation">(</span>for<span class="token punctuation">)</span> <span class="token string">': '</span> <span class="token function">counter</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token string">';'</span>
    <span class="token property">counter-reset</span><span class="token punctuation">:</span> c <span class="token function">var</span><span class="token punctuation">(</span>--c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <p>Much better!</p>
  <div class="cp_embed_wrapper resizable" style="height: 170px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="170" width="100%" name="cp_embed_5" scrolling="no" src="https://codepen.io/thebabydino/embed/QWWJygq?height=170&amp;theme-id=1&amp;slug-hash=QWWJygq&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20prettify%20output&amp;name=cp_embed_5" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - prettify output" loading="lazy" id="cp_embed_QWWJygq"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>Setting separate <code>:focus</code> styles even gives us something that doesn’t look half bad, plus allows us to see which value we’re currently modifying.</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">input[type='range'] </span><span class="token punctuation">{</span>
  <span class="token comment">/* same as before */</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>:focus </span><span class="token punctuation">{</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> dotted <span class="token number">1</span><span class="token unit">px</span> currentcolor<span class="token punctuation">;</span>

    <span class="token selector"><span class="token parent important">&amp;</span>, <span class="token parent important">&amp;</span> + output </span><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> darkorange <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 170px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="170" width="100%" name="cp_embed_6" scrolling="no" src="https://codepen.io/thebabydino/embed/pooQgKV?height=170&amp;theme-id=1&amp;slug-hash=pooQgKV&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20focus%20styles&amp;name=cp_embed_6" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - focus styles" loading="lazy" id="cp_embed_pooQgKV"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>All we need now is to create the fill between the thumbs.</p>
  <h3 id="trick-for-2x"><a href="#the-tricky-part" aria-hidden="true" class="aal_anchor" id="the-tricky-part"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The tricky part</h3>
  <p>We can recreate the fill with an <code>::after</code> pseudo-element on the wrapper, which we place on the bottom grid row where we’ve also placed the range inputs. This pseudo-element comes, as the name suggests, after the inputs, but it will still show up underneath them because we’ve set positive <code>z-index</code> values on them. Note that setting the <code>z-index</code> works on the inputs (without explicitly setting their <code>position</code> to something different from <code>static</code>) because they’re <code>grid</code> children.</p>
  <p>The <code>width</code> of this pseudo-element should be proportional to the difference between the higher <code>input</code> value and the lower <code>input</code> value. The big problem here is that they pass each other and we have no way of knowing which has the higher value.</p>
  <h4 id="first-approach"><a href="#first-approach" aria-hidden="true" class="aal_anchor" id="first-approach"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>First approach</h4>
  <p>My first idea on how to solve this was by using <code>width</code> and <code>min-width</code> together. In order to better understand how this works, consider that we have two percentage values, <code>--a</code> and <code>--b</code>, and we want to make an element’s <code>width</code> be the absolute value of the difference between them.</p>
  <p>Either one of the two values can be the bigger one, so we pick an example where <code>--b</code> is bigger and an example where <code>--a</code> is bigger:</p>
  <pre rel="HTML" class=" language-markup"><code class=" language-html language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- first example, --b is bigger --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">%</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- second example, --a is bigger --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
  <p>We set <code>width</code> to the second value (<code>--b</code>) minus the first (<code>--a</code>) and <code>min-width</code> to the first value (<code>--a</code>) minus the second one (<code>--b</code>).</p>
  <pre rel="CSS" class=" language-css"><code class=" language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#f90</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token unit">em</span><span class="token punctuation">;</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--a</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--b</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--b</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--a</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
  <p>If the second value (<code>--b</code>) is bigger, then the <code>width</code> is positive (which makes it valid) and the <code>min-width</code> negative (which makes it invalid). That means the computed value is the one set via the <code>width</code> property. This is the case in the first example, where <code>--b</code> is <code>70%</code> and <code>--a</code> is <code>50%</code>. That means the <code>width</code> computes to <code>70% - 50% = 20%</code>, while the <code>min-width</code> computes to <code>50% - 70% = -20%</code>.</p>
  <p>If the first value is bigger, then the <code>width</code> is negative (which makes it invalid) and the <code>min-width</code> is positive (which makes it valid), meaning the computed value is that set via the <code>min-width</code> property. This is the case in the second example, where <code>--a</code> is <code>80%</code> and <code>--b</code> is <code>30%</code>, meaning the <code>width</code> computes to <code>30% - 80% = -50%</code>, while the <code>min-width</code> computes to <code>80% - 30% = 50%</code>.</p>
  <div class="cp_embed_wrapper resizable" style="height: 515px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="515" width="100%" name="cp_embed_7" scrolling="no" src="https://codepen.io/thebabydino/embed/oNvdprY?height=515&amp;theme-id=1&amp;slug-hash=oNvdprY&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=Setting%20width%20to%20absolute%20value%20of%20difference%20between%20two%20custom%20properties&amp;name=cp_embed_7" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="Setting width to absolute value of difference between two custom properties" loading="lazy" id="cp_embed_oNvdprY"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>Applying this solution for our two thumb slider, we have:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">/* same as before */</span>
  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--max<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#95a</span><span class="token punctuation">;</span>
    <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span>/ span <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <p>In order to represent the <code>width</code> and <code>min-width</code> values as percentages, we need to divide the difference between our two values by the difference (<code>--dif</code>) between the maximum and the minimum of the range inputs and then multiply the result we get by <code>100%</code>.</p>
  <div class="cp_embed_wrapper resizable" style="height: 170px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="170" width="100%" name="cp_embed_8" scrolling="no" src="https://codepen.io/thebabydino/embed/wvvQopE?height=170&amp;theme-id=1&amp;slug-hash=wvvQopE&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20fill%20size%20via%20width%2F%20min-width&amp;name=cp_embed_8" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - fill size via width/ min-width" loading="lazy" id="cp_embed_wvvQopE"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>So far, so good… so what?</p>
  <p>The <code>::after</code> always has the right computed <code>width</code>, but we also need to offset it from the track minimum by the smaller value and we can’t use the same trick for its <code>margin-left</code> property.</p>
  <p class="explanation">My first instinct here was to use <code>left</code>, but actual offsets don’t work on their own. We’d have to also explicitly set <code>position: relative</code> on our <code>::after</code> pseudo-element in order to make it work. I felt kind of meh about doing that, so I opted for <code>margin-left</code> instead.</p>
  <p>The question is what approach can we take for this second property. The one we’ve used for the <code>width</code> doesn’t work because there is no such thing as <code>min-margin-left</code>.</p>
  <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/min"><code>min()</code></a> function is now in the CSS spec, but at the time when I coded these multi-thumb sliders, it was only implemented by Safari (it has since landed in Chrome as well). Safari-only support was not going to cut it for me since I don’t own any Apple device or know anyone in real life who does… so I couldn’t play with this function! And not being able to come up with a solution I could actually test meant having to change the approach.</p>
  <h4 id="second-approach"><a href="#second-approach" aria-hidden="true" class="aal_anchor" id="second-approach"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Second approach</h4>
  <p>This involves using both of our wrapper’s (<code>.wrap</code>) pseudo-elements: one pseudo-element’s <code>margin-left</code> and <code>width</code> being set as if the second value is bigger, and the other’s set as if the first value is bigger.</p>
  <p>With this technique, if the second value is bigger, the <code>width</code> we’re setting on <code>::before</code> is positive and the one we’re setting on <code>::after</code> is negative (which means it’s invalid and the default of <code>0</code> is applied, hiding this pseudo-element). Meanwhile, if the first value is bigger, then the <code>width</code> we’re setting on <code>::before</code> is negative (so it’s this pseudo-element that has a computed <code>width</code> of <code>0</code> and is not being shown in this situation) and the one we’re setting on <code>::after</code> is positive.</p>
  <p>Similarly, we use the first value (<code>--a</code>) to set the <code>margin-left</code> property on the <code>::before</code> since we assume the second value <code>--b</code> is bigger for this pseudo-element. That means <code>--a</code> is the value of the left end and <code>--b</code> the value of the right end.</p>
  <p>For <code>::after</code>, we use the second value (<code>--b</code>) to set the <code>margin-left</code> property, since we assume the first value <code>--a</code> is bigger this pseudo-element. That means <code>--b</code> is the value of the left end and <code>--a</code> the value of the right end.</p>
  <p>Let’s see how we put it into code for the same two examples we previously had, where one has <code>--b</code> bigger and another where <code>--a</code> is bigger:</p>
  <pre rel="HTML" class=" language-markup"><code class=" language-html language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value"><span class="token variable">--a</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token variable">--b</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">%</span></span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">div </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>::before, <span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">em</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 510px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="510" width="100%" name="cp_embed_9" scrolling="no" src="https://codepen.io/thebabydino/embed/XWWygeg?height=510&amp;theme-id=1&amp;slug-hash=XWWygeg&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=Set%20width%20to%20%7Ca%20-%20b%7C%20and%20left%20to%20min(a%2C%20b)&amp;name=cp_embed_9" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="Set width to |a - b| and left to min(a, b)" loading="lazy" id="cp_embed_XWWygeg"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>Applying this technique for our two thumb slider, we have:</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">/* same as before */</span>
  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--max<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::before, <span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span>/ span <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#95a</span><span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <div class="cp_embed_wrapper resizable" style="height: 170px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="170" width="100%" name="cp_embed_10" scrolling="no" src="https://codepen.io/thebabydino/embed/KKKrXQE?height=170&amp;theme-id=1&amp;slug-hash=KKKrXQE&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20fill%20size%20via%202%20pseudos&amp;name=cp_embed_10" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - fill size via 2 pseudos" loading="lazy" id="cp_embed_KKKrXQE"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>We now have a nice functional slider with two thumbs. But this solution is far from perfect.</p>
  <h3 id="issues"><a href="#issues" aria-hidden="true" class="aal_anchor" id="issues"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Issues</h3>
  <p>The first issue is that we didn’t get those <code>margin-left</code> and <code>width</code> values quite right. It’s just not noticeable in this demo due to the thumb styling (such as its shape, dimensions relative to the track, and being full opaque).</p>
  <p>But let’s say our thumb is round and maybe even smaller than the track <code>height</code>:</p>
  <div class="cp_embed_wrapper resizable" style="height: 225px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="225" width="100%" name="cp_embed_11" scrolling="no" src="https://codepen.io/thebabydino/embed/RwwERBq?height=225&amp;theme-id=1&amp;slug-hash=RwwERBq&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20end%20issue%20highlight&amp;name=cp_embed_11" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - end issue highlight" loading="lazy" id="cp_embed_RwwERBq"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>We can now see what the problem is: the endlines of the fill don’t coincide with the vertical midlines of the thumbs.</p>
  <p>This is because of the way moving the thumb end-to-end works. In Chrome, the thumb’s <code>border-box</code> moves within the limits of the track’s <code>content-box</code>, while in Firefox, it moves within the limits of the slider’s <code>content-box</code>. This can be seen in the recordings below, where the <code>padding</code> is <code>transparent</code>, while the <code>content-box</code> and the <code>border</code> are semi-transparent. We’ve used orange for the actual slider, red for the track and purple for the thumb.</p>
  <figure><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_chrome.gif?ssl=1" alt="Animated gif. Chrome only moves the thumb within the left and right limits of the track's content-box." data-recalc-dims="1" data-lazy-src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_chrome.gif?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image"><noscript><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_chrome.gif?ssl=1" alt="Animated gif. Chrome only moves the thumb within the left and right limits of the track's content-box." data-recalc-dims="1"></noscript><figcaption>Recording of the thumb motion in Chrome from one end of the slider to the other.</figcaption></figure>
  <p>Note that the track’s <code>width</code> in Chrome is always determined by that of the parent slider – any <code>width</code> value we may set on the track itself gets ignored. This is not the case in Firefox, where the track can also be wider or narrower than its parent <code>&lt;input&gt;</code>. As we can see below, this makes it even more clear that the thumb’s range of motion depends solely on the slider <code>width</code> in this browser.</p>
  <figure><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_firefox.gif?ssl=1" alt="Animated gif. Firefox moves the thumb within the left and right limits of the actual range input's content-box." data-recalc-dims="1" data-lazy-src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_firefox.gif?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image"><noscript><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2017/11/thumb_mov_firefox.gif?ssl=1" alt="Animated gif. Firefox moves the thumb within the left and right limits of the actual range input's content-box." data-recalc-dims="1"></noscript><figcaption>Recording of the thumb motion in Firefox from one end of the slider to the other. The three cases are displayed from top to bottom. The <code>border-box</code> of the track perfectly fits the <code>content-box</code> of the slider horizontally. It’s longer and it’s shorter).</figcaption></figure>
  <p>In our particular case (and, to be fair, in a lot of other cases), we can get away with not having any <code>margin</code>, <code>border</code> or <code>padding</code> on the track. That would mean its <code>content-box</code> coincides to that of the actual range <code>input</code> so there are no inconsistencies between browsers.</p>
  <p>But what we need to keep in mind is that the vertical midlines of the thumbs (which we need to coincide with the fill endpoints) move between half a thumb <code>width</code> (or a thumb radius if we have a circular thumb) away from the start of the track and half a thumb <code>width</code> away from the end of the track. That’s an interval equal to the track <code>width</code> minus the thumb <code>width</code> (or the thumb diameter in the case of a circular thumb).</p>
  <p>This can be seen in the interactive demo below where the thumb can be dragged to better see the interval its vertical midline (which we need to coincide with the fill’s endline) moves within.</p>
  <div class="cp_embed_wrapper resizable" style="height: 705px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="705" width="100%" name="cp_embed_12" scrolling="no" src="https://codepen.io/thebabydino/embed/bGGJpjq?height=705&amp;theme-id=1&amp;slug-hash=bGGJpjq&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=actual%20thumb%20range%20of%20motion&amp;name=cp_embed_12" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="actual thumb range of motion" loading="lazy" id="cp_embed_bGGJpjq"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p class="explanation">The demo is best viewed in Chrome and Firefox.</p>
  <p>The fill <code>width</code> and <code>margin-left</code> values are not relative to <code>100%</code> (or the track <code>width</code>), but to the track <code>width</code> <em>minus</em> the thumb <code>width</code> (which is also the diameter in the particular case of a circular thumb). Also, the <code>margin-left</code> values don’t start from <code>0</code>, but from half a thumb <code>width</code> (which is a thumb radius in our particular case).</p>
  <pre rel="SCSS" class=" language-scss"><code class=" language-scss"><span class="token property"><span class="token variable">$d</span></span><span class="token punctuation">:</span> <span class="token number">.5</span>*<span class="token variable">$h</span><span class="token punctuation">;</span> <span class="token comment">// thumb diameter</span>
<span class="token property"><span class="token variable">$r</span></span><span class="token punctuation">:</span> <span class="token number">.5</span>*<span class="token variable">$d</span><span class="token punctuation">;</span> <span class="token comment">// thumb radius</span>
<span class="token property"><span class="token variable">$uw</span></span><span class="token punctuation">:</span> <span class="token variable">$w</span> <span class="token operator">-</span> <span class="token variable">$d</span><span class="token punctuation">;</span> <span class="token comment">// useful width</span>

<span class="token selector">.wrap </span><span class="token punctuation">{</span>
  <span class="token comment">/* same as before */</span>
  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--max<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token variable">#{$r}</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token variable">#{$uw}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token variable">#{$uw}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token variable">#{$r}</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--min<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token variable">#{$uw}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--b<span class="token punctuation">)</span><span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span>*<span class="token variable">#{$uw}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  <p>Now the fill starts and ends exactly where it should, along the midlines of the two thumbs:</p>
  <div class="cp_embed_wrapper resizable" style="height: 225px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="225" width="100%" name="cp_embed_13" scrolling="no" src="https://codepen.io/thebabydino/embed/NWWerZG?height=225&amp;theme-id=1&amp;slug-hash=NWWerZG&amp;default-tab=result&amp;user=thebabydino&amp;embed-version=2&amp;pen-title=2%20handle%20slider%20-%20end%20issue%20fix&amp;name=cp_embed_13" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="2 handle slider - end issue fix" loading="lazy" id="cp_embed_NWWerZG"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
  <p>This one issue has been taken care of, but we still have a way bigger one. Let’s say we want to have more thumbs, say four:</p>
  <figure><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/12/multi_nx_res.gif?ssl=1" alt="Animated gif. Shows a slider with four thumbs which can pass each other and be in any order, while the fills are always between the two thumbs with the two smallest values and between the two thumbs with the two biggest values, regardless of their order in the DOM." data-recalc-dims="1" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/12/multi_nx_res.gif?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image"><noscript><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/12/multi_nx_res.gif?ssl=1" alt="Animated gif. Shows a slider with four thumbs which can pass each other and be in any order, while the fills are always between the two thumbs with the two smallest values and between the two thumbs with the two biggest values, regardless of their order in the DOM." data-recalc-dims="1"></noscript><figcaption>An example with four thumbs.</figcaption></figure>
  <p>We now have four thumbs that can all pass each other and they can be in any order that we have no way of knowing. Moreover, we only have two pseudo-elements, so we cannot apply the same techniques. Can we still find a CSS-only solution?</p>
  <p>Well, the answer is yes! But it means scrapping this solution and going for something different and way more clever — in part two of this article!</p>
  <div class="article-series">
    <h4><a href="#article-series" aria-hidden="true" class="aal_anchor" id="article-series"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Article Series:</h4>
    <ol>
      <li>
        Multi-Thumb Sliders: Particular Two-Thumb Case <em>(This Post)</em>
      </li>
      <li>
        Multi-Thumb Sliders: General Case <em>(Coming Tomorrow!)</em>
      </li>
    </ol>
  </div>
</div>
</body>
</html>
